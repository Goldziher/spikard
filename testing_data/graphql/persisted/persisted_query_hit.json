{
  "name": "persisted_query_hit",
  "description": "Persisted query cache hit - query already cached on server, hash only in request",
  "operation_type": "query",
  "endpoint": "/graphql",
  "schema": "type Query {\n  user(id: ID!): User!\n}\n\ntype User {\n  id: ID!\n  name: String!\n  email: String!\n}",
  "request": {
    "method": "POST",
    "path": "/graphql",
    "query": null,
    "variables": {
      "id": "user-123"
    },
    "extensions": {
      "persistedQuery": {
        "version": 1,
        "sha256Hash": "ecf4edb46db40b5132295c0291d62fb65d6759a9eedfa4d5d612dd5ec54a6b38"
      }
    },
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "query": null,
      "variables": {
        "id": "user-123"
      },
      "extensions": {
        "persistedQuery": {
          "version": 1,
          "sha256Hash": "ecf4edb46db40b5132295c0291d62fb65d6759a9eedfa4d5d612dd5ec54a6b38"
        }
      }
    }
  },
  "request_notes": "Client sends only hash, no query string. Server has this query cached from previous registration.",
  "expected_response": {
    "status_code": 200,
    "data": {
      "user": {
        "id": "user-123",
        "name": "Alice Smith",
        "email": "alice@example.com"
      }
    }
  },
  "resolvers": {
    "Query.user": {
      "type": "mock_with_args",
      "return_value": {
        "id": "user-123",
        "name": "Alice Smith",
        "email": "alice@example.com"
      }
    }
  },
  "tags": [
    "queries",
    "persisted-queries",
    "cache-hit"
  ]
}