[package]
name = "spikard-cli"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
homepage.workspace = true
description = "Command-line interface for spikard"

[[bin]]
name = "spikard"
path = "src/main.rs"

[dependencies]
spikard.workspace = true
spikard-http = { path = "../spikard-http" }
clap.workspace = true
clap_complete.workspace = true
clap_mangen.workspace = true
anyhow = "1.0"
tokio.workspace = true
tracing.workspace = true
axum.workspace = true
serde.workspace = true
serde_json.workspace = true
serde_yaml = "0.9"
openapiv3 = "2.2"
asyncapiv3 = "0.1.3"  # AsyncAPI v3 spec parsing
heck = "0.5"  # For case conversion (snake_case, PascalCase)

# Optional language-specific dependencies
pyo3 = { workspace = true, optional = true }
_spikard = { package = "spikard-py", path = "../spikard-py", optional = true, default-features = false }

[features]
default = []
python = ["dep:pyo3", "dep:_spikard", "pyo3/auto-initialize"]
node = []    # TODO: Add Node.js support
ruby = []    # TODO: Add Ruby support
all = ["python", "node", "ruby"]

[dev-dependencies]
